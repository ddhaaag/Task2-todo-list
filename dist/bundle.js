/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/index.html":(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var r=n("./node_modules/html-loader/dist/runtime/getUrl.js"),a=n.n(r),s=new URL(n("./src/img/Color.png"),n.b);const o='<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\r\n    <title>TODO LIST</title>\r\n    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">\r\n</head>\r\n<body>\r\n\r\n    <header class="header">\r\n        <div class="container header-container">\r\n            <div class="header-logo">\r\n                <img  src="'+a()(s)+'" alt="logo">\r\n            </div>\r\n            <div class="header-search">\r\n                <input type="text" name="fiter" class="filter" placeholder="Search task for to do">\r\n            </div>\r\n        </div>\r\n    </header>\r\n\r\n    <main class="main">\r\n        <div class="container">\r\n            <nav class="tabs-wrap">\r\n                <ul>\r\n                    <li><button class="btns-all choose" data-tabs="add-task">All</button></li>\r\n                    <li><button class="btns-active" data-tabs="active">Active</button></li>\r\n                    <li><button class="btns-done" data-tabs="done">Done</button></li>\r\n                </ul>\r\n            </nav>\r\n\r\n        \r\n            <div class="tasks">\r\n                <form id="form">\r\n                    <div class="tasks__new-task">\r\n                        <label for="new-task">New Task</label>\r\n                        <textarea name="new-task" id="new-task" class="new-task"></textarea>\r\n                        <input type="submit" value="ADD" class="btn-add">\r\n                    </div>\r\n                </form>\r\n                <ul class="task-list"></ul>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</body>\r\n</html>'},"./node_modules/html-loader/dist/runtime/getUrl.js":t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},"./src/style.css":(t,e,n)=>{n.r(e)},"./src/img/Color.png":(t,e,n)=>{t.exports=n.p+"29edca79401bc2d69368.png"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href;var r={};(()=>{n.r(r);n("./src/style.css"),n("./src/index.html");const t=document.querySelector("#form"),e=document.querySelector(".task-list"),a=document.querySelector(".filter"),s=document.querySelector("#new-task"),o=(document.querySelector(".delete"),document.querySelector(".tabs-wrap")),l=(document.querySelectorAll(".tabs-wrap > ul > li > button"),document.querySelectorAll("p"),document.querySelectorAll(".task-list > .add-task > p.active"),document.querySelectorAll(".task-list > .add-task > p.done"),document.getElementsByClassName("add-task"));function c(){localStorage.setItem("todos",e.innerHTML)}function i(t){t.shiftKey||13!==t.keyCode||(t.preventDefault(),d(t))}function d(t){t.preventDefault(),""!=s.value&&function(t){const n=document.createElement("li");n.className="add-task",n.innerHTML=`<p>${t}</p><button class="important">MARK IMPORTANT</button><button class="delete"></button>`,e.appendChild(n),c()}(s.value),s.value=""}function u(t){t.target.classList.contains("delete")&&(t.target.parentElement.remove(),c())}function m(t){if(t.target.closest(".important")){const e=t.target.closest(".add-task").querySelector("p"),n=document.createElement("span");n.innerHTML="&#9734;",console.log(e),"MARK IMPORTANT"===t.target.textContent?(t.target.textContent="NOT IMPORTANT",e.prepend(n)):(t.target.textContent="MARK IMPORTANT",e.firstChild.remove()),t.target.classList.toggle("unimportant"),e.classList.toggle("active"),c()}}function p(t){const e=t.target.value.toLowerCase();document.querySelectorAll(".add-task").forEach((function(t){-1!=t.firstChild.textContent.toLowerCase().indexOf(e)?t.style.display="block":t.style.display="none"}))}function y(t){const e=t.target.closest(".add-task");if(e){const n=e.querySelector("p");let r=t.target.closest(".important");t.target.closest(".delete");"P"===t.target.tagName&&(r=e.querySelector(".important"),r.classList.toggle("hidden"),n.classList.toggle("done"),c())}}function f(e){let n=e.target.closest("button");if(!n)return;const r=document.querySelectorAll(".tabs-wrap > ul > li > button"),a=e.target;Array.from(r).forEach((t=>{t.classList.remove("choose")})),a.classList.add("choose"),t.style.display="block";let s=n.getAttribute("data-tabs");Array.from(l).forEach((t=>{t.style.display="none"})),"active"===s?Array.from(l).forEach((t=>{t.firstElementChild.classList.contains("done")?t.style.display="none":t.style.display="block"})):"done"===s?(t.style.display="none",Array.from(l).forEach((t=>{t.firstElementChild.classList.contains("done")&&(t.style.display="block")}))):Array.from(l).forEach((t=>{t.style.display="block"}))}window.onload=()=>{e.innerHTML=localStorage.getItem("todos"),e.childNodes.forEach((t=>{t.style.display="block"}))},s.addEventListener("keydown",i),t.addEventListener("submit",d),e.addEventListener("click",u),e.addEventListener("click",m),e.addEventListener("click",y),a.addEventListener("keyup",p),o.addEventListener("click",f)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvaW5kZXguaHRtbCIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9ub2RlX21vZHVsZXMvaHRtbC1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3dlYnBhY2stZGVtby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYnBhY2stZGVtby93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiX19fSFRNTF9MT0FERVJfSU1QT1JUXzBfX18iLCJVUkwiLCJtb2R1bGUiLCJleHBvcnRzIiwidXJsIiwib3B0aW9ucyIsIlN0cmluZyIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaGFzaCIsIm1heWJlTmVlZFF1b3RlcyIsInRlc3QiLCJjb25jYXQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm4iLCJnZXR0ZXIiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImIiLCJiYXNlVVJJIiwic2VsZiIsImhyZWYiLCJmb3JtIiwicXVlcnlTZWxlY3RvciIsInRhc2tMaXN0IiwiZmlsdGVyIiwiaW5wdXRUYXNrIiwidGFic1dyYXAiLCJsaSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidXBkYXRlTG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImlubmVySFRNTCIsImVudGVyIiwic2hpZnRLZXkiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJzdWJtaXQiLCJ0YXNrIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiYWRkVGFzayIsInJlbW92ZUl0ZW0iLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmUiLCJhZGRJbXBvcnRhbnQiLCJjbG9zZXN0IiwicGFyYSIsInN0YXIiLCJjb25zb2xlIiwibG9nIiwidGV4dENvbnRlbnQiLCJwcmVwZW5kIiwiZmlyc3RDaGlsZCIsInRvZ2dsZSIsImZpbHRlckl0ZW1zIiwidGV4dCIsInRvTG93ZXJDYXNlIiwiZm9yRWFjaCIsImluZGV4T2YiLCJzdHlsZSIsImRpc3BsYXkiLCJ0aHJvdWdoVGFzayIsInRhc2tUZXh0IiwiaW1wb3J0YW50QnRuIiwidGFnTmFtZSIsImFjdGlvbiIsImJ0biIsInRhYnMiLCJBcnJheSIsImZyb20iLCJpdGVtIiwiYWRkIiwiZ2V0QXR0cmlidXRlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJvbmxvYWQiLCJnZXRJdGVtIiwiY2hpbGROb2RlcyIsIm5vZGUiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiOzJKQUVJQSxFQUE2QixJQUFJQyxJQUFJLDhCQUt6QyxRQUZXLHFpQkFEMkIsSUFBeUNELEdBQzRoQiw0dUMsd0RDSDNtQkUsRUFBT0MsUUFBVSxTQUFVQyxFQUFLQyxHQU05QixPQUxLQSxJQUVIQSxFQUFVLElBR1BELEdBS0xBLEVBQU1FLE9BQU9GLEVBQUlHLFdBQWFILEVBQUlJLFFBQVVKLEdBRXhDQyxFQUFRSSxPQUVWTCxHQUFPQyxFQUFRSSxNQUdiSixFQUFRSyxpQkFBbUIsb0JBQW9CQyxLQUFLUCxHQUMvQyxJQUFLUSxPQUFPUixFQUFLLEtBR25CQSxHQWZFQSxJLCtHQ1JQUyxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhYixRQUdyQixJQUFJRCxFQUFTVyxFQUF5QkUsR0FBWSxDQUdqRFosUUFBUyxJQU9WLE9BSEFlLEVBQW9CSCxHQUFVYixFQUFRQSxFQUFPQyxRQUFTVyxHQUcvQ1osRUFBT0MsUUFJZlcsRUFBb0JLLEVBQUlELEVDeEJ4QkosRUFBb0JNLEVBQUtsQixJQUN4QixJQUFJbUIsRUFBU25CLEdBQVVBLEVBQU9LLFdBQzdCLElBQU9MLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBWSxFQUFvQlEsRUFBRUQsRUFBUSxDQUFFRSxFQUFHRixJQUM1QkEsR0NMUlAsRUFBb0JRLEVBQUksQ0FBQ25CLEVBQVNxQixLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVB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QU1DLFFBQVUsVUFJVCxXQUFWOUQsRUFDQXNFLE1BQU1DLEtBQUtoRCxHQUFJb0MsU0FBUWEsSUFDakJBLEVBQUtHLGtCQUFrQmpDLFVBQVVDLFNBQVMsUUFDeEM2QixFQUFLWCxNQUFNQyxRQUFVLE9BRXpCVSxFQUFLWCxNQUFNQyxRQUFVLFdBR1IsU0FBVjlELEdBQ1RpQixFQUFLNEMsTUFBTUMsUUFBVSxPQUNuQlEsTUFBTUMsS0FBS2hELEdBQUlvQyxTQUFRYSxJQUNqQkEsRUFBS0csa0JBQWtCakMsVUFBVUMsU0FBUyxVQUMxQzZCLEVBQUtYLE1BQU1DLFFBQVUsYUFJM0JRLE1BQU1DLEtBQUtoRCxHQUFJb0MsU0FBU2EsSUFDdEJBLEVBQUtYLE1BQU1DLFFBQVUsV0F6Sy9CdkUsT0FBT3FGLE9BQVMsS0FDZHpELEVBQVNVLFVBQVlGLGFBQWFrRCxRQUFRLFNBRTFDMUQsRUFBUzJELFdBQVduQixTQUFRb0IsSUFDMUJBLEVBQUtsQixNQUFNQyxRQUFVLFlBWXJCekMsRUFBVTJELGlCQUFpQixVQUFXbEQsR0FFdENiLEVBQUsrRCxpQkFBaUIsU0FBVTlDLEdBRWhDZixFQUFTNkQsaUJBQWlCLFFBQVN4QyxHQUVuQ3JCLEVBQVM2RCxpQkFBaUIsUUFBU2xDLEdBRW5DM0IsRUFBUzZELGlCQUFpQixRQUFTakIsR0FFbkMzQyxFQUFPNEQsaUJBQWlCLFFBQVN4QixHQUVqQ2xDLEVBQVMwRCxpQkFBaUIsUUFBU2IsSSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fSFRNTF9MT0FERVJfR0VUX1NPVVJDRV9GUk9NX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2h0bWwtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19IVE1MX0xPQURFUl9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCIuL2ltZy9Db2xvci5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbi8vIE1vZHVsZVxudmFyIF9fX0hUTUxfTE9BREVSX1JFUExBQ0VNRU5UXzBfX18gPSBfX19IVE1MX0xPQURFUl9HRVRfU09VUkNFX0ZST01fSU1QT1JUX19fKF9fX0hUTUxfTE9BREVSX0lNUE9SVF8wX19fKTtcbnZhciBjb2RlID0gXCI8IURPQ1RZUEUgaHRtbD5cXHJcXG48aHRtbCBsYW5nPVxcXCJlblxcXCI+XFxyXFxuPGhlYWQ+XFxyXFxuICAgIDxtZXRhIGNoYXJzZXQ9XFxcIlVURi04XFxcIj5cXHJcXG4gICAgPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlXFxcIj5cXHJcXG4gICAgPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcXFwiPlxcclxcbiAgICA8dGl0bGU+VE9ETyBMSVNUPC90aXRsZT5cXHJcXG4gICAgPGxpbmsgaHJlZj1cXFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG86d2dodEA0MDA7NTAwOzcwMDs5MDAmZGlzcGxheT1zd2FwXFxcIiByZWw9XFxcInN0eWxlc2hlZXRcXFwiPlxcclxcbjwvaGVhZD5cXHJcXG48Ym9keT5cXHJcXG5cXHJcXG4gICAgPGhlYWRlciBjbGFzcz1cXFwiaGVhZGVyXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lciBoZWFkZXItY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoZWFkZXItbG9nb1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxpbWcgIHNyYz1cXFwiXCIgKyBfX19IVE1MX0xPQURFUl9SRVBMQUNFTUVOVF8wX19fICsgXCJcXFwiIGFsdD1cXFwibG9nb1xcXCI+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGVhZGVyLXNlYXJjaFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBuYW1lPVxcXCJmaXRlclxcXCIgY2xhc3M9XFxcImZpbHRlclxcXCIgcGxhY2Vob2xkZXI9XFxcIlNlYXJjaCB0YXNrIGZvciB0byBkb1xcXCI+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9oZWFkZXI+XFxyXFxuXFxyXFxuICAgIDxtYWluIGNsYXNzPVxcXCJtYWluXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgICAgPG5hdiBjbGFzcz1cXFwidGFicy13cmFwXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPHVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxidXR0b24gY2xhc3M9XFxcImJ0bnMtYWxsIGNob29zZVxcXCIgZGF0YS10YWJzPVxcXCJhZGQtdGFza1xcXCI+QWxsPC9idXR0b24+PC9saT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsaT48YnV0dG9uIGNsYXNzPVxcXCJidG5zLWFjdGl2ZVxcXCIgZGF0YS10YWJzPVxcXCJhY3RpdmVcXFwiPkFjdGl2ZTwvYnV0dG9uPjwvbGk+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGk+PGJ1dHRvbiBjbGFzcz1cXFwiYnRucy1kb25lXFxcIiBkYXRhLXRhYnM9XFxcImRvbmVcXFwiPkRvbmU8L2J1dHRvbj48L2xpPlxcclxcbiAgICAgICAgICAgICAgICA8L3VsPlxcclxcbiAgICAgICAgICAgIDwvbmF2PlxcclxcblxcclxcbiAgICAgICAgXFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidGFza3NcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8Zm9ybSBpZD1cXFwiZm9ybVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0YXNrc19fbmV3LXRhc2tcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIm5ldy10YXNrXFxcIj5OZXcgVGFzazwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIG5hbWU9XFxcIm5ldy10YXNrXFxcIiBpZD1cXFwibmV3LXRhc2tcXFwiIGNsYXNzPVxcXCJuZXctdGFza1xcXCI+PC90ZXh0YXJlYT5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwic3VibWl0XFxcIiB2YWx1ZT1cXFwiQUREXFxcIiBjbGFzcz1cXFwiYnRuLWFkZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxcclxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcInRhc2stbGlzdFxcXCI+PC91bD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L21haW4+XFxyXFxuPC9ib2R5PlxcclxcbjwvaHRtbD5cIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlLCBuby1wYXJhbS1yZWFzc2lnblxuXG5cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMubWF5YmVOZWVkUXVvdGVzICYmIC9bXFx0XFxuXFxmXFxyIFwiJz08PmBdLy50ZXN0KHVybCkpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybCwgXCJcXFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0XCJpbmRleFwiOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiaW1wb3J0IGNzcyBmcm9tICcuL3N0eWxlLmNzcyc7XHJcbmltcG9ydCBodG1sIGZyb20gJy4vaW5kZXguaHRtbCc7XHJcblxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0nKSxcclxuICAgICAgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1saXN0JyksXHJcbiAgICAgIGZpbHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXInKSxcclxuICAgICAgaW5wdXRUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldy10YXNrJyksXHJcbiAgICAgIGRlbGV0ZUl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlJyksXHJcblxyXG4gICAgICB0YWJzV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJzLXdyYXAnKTtcclxuXHJcbmNvbnN0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicy13cmFwID4gdWwgPiBsaSA+IGJ1dHRvbicpLFxyXG4gICAgICBhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwJyksXHJcbiAgICAgIGFjdGl2ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFzay1saXN0ID4gLmFkZC10YXNrID4gcC5hY3RpdmUnKSxcclxuICAgICAgZG9uZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFzay1saXN0ID4gLmFkZC10YXNrID4gcC5kb25lJyksXHJcbiAgICAgIGxpID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWRkLXRhc2snKTtcclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgdGFza0xpc3QuaW5uZXJIVE1MID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJyk7XHJcbiAgICAgIFxyXG4gIHRhc2tMaXN0LmNoaWxkTm9kZXMuZm9yRWFjaChub2RlID0+IHtcclxuICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMb2NhbFN0b3JhZ2UoKSB7XHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgdGFza0xpc3QuaW5uZXJIVE1MKTtcclxufVxyXG5cclxubG9hZEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBsb2FkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcblxyXG4gICAgaW5wdXRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlcilcclxuXHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHN1Ym1pdCk7XHJcblxyXG4gICAgdGFza0xpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVJdGVtKTtcclxuXHJcbiAgICB0YXNrTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZEltcG9ydGFudCk7XHJcblxyXG4gICAgdGFza0xpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aHJvdWdoVGFzayk7XHJcblxyXG4gICAgZmlsdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZmlsdGVySXRlbXMpO1xyXG5cclxuICAgIHRhYnNXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWN0aW9uKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVudGVyKGUpIHtcclxuICAgIGlmICghZS5zaGlmdEtleSAmJiBlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vINGC0YPRgiDQutC+0LQg0LTQu9GPINC+0YLQv9GA0LDQstC60Lgg0YHQvtC+0LHRidC10L3QuNGPXHJcbiAgICAgICAgc3VibWl0KGUpO1xyXG4gICAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZihpbnB1dFRhc2sudmFsdWUgIT0gJycpXHJcbiAgICAgIGFkZFRhc2soaW5wdXRUYXNrLnZhbHVlKTtcclxuICAgIGlucHV0VGFzay52YWx1ZSA9ICcnO1xyXG4gIH1cclxuXHJcblxyXG5mdW5jdGlvbiBhZGRUYXNrKHRhc2spIHtcclxuICAgIC8vINCh0L7Qt9C00LDQvdC40LUgbGkg0Y3Qu9C10LzQtdC90YLQsFxyXG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC60LvQsNGB0YFcclxuICAgIGxpLmNsYXNzTmFtZSA9ICdhZGQtdGFzayc7XHJcbiAgICBsaS5pbm5lckhUTUwgPSBgPHA+JHt0YXNrfTwvcD48YnV0dG9uIGNsYXNzPVwiaW1wb3J0YW50XCI+TUFSSyBJTVBPUlRBTlQ8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiZGVsZXRlXCI+PC9idXR0b24+YDtcclxuICAgIFxyXG4gICAgdGFza0xpc3QuYXBwZW5kQ2hpbGQobGkpO1xyXG4gICAgdXBkYXRlTG9jYWxTdG9yYWdlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUl0ZW0oZSkge1xyXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGVsZXRlJykpIHtcclxuICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZSgpO1xyXG4gICAgfVxyXG59ICBcclxuXHJcbmZ1bmN0aW9uIGFkZEltcG9ydGFudChlKSB7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coZS50YXJnZXQpO1xyXG5cclxuICAgIGNvbnN0IGltcG9ydGFudEJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pbXBvcnRhbnQnKTtcclxuXHJcbiAgICBpZiAoaW1wb3J0YW50QnRuKSB7XHJcblxyXG4gICAgICBjb25zdCBwYXJhID0gZS50YXJnZXQuY2xvc2VzdCgnLmFkZC10YXNrJykucXVlcnlTZWxlY3RvcigncCcpO1xyXG4gICAgICBjb25zdCBzdGFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICBzdGFyLmlubmVySFRNTCA9ICAnJiM5NzM0Oyc7XHJcbiAgICAgIGNvbnNvbGUubG9nKHBhcmEpO1xyXG5cclxuICAgICAgICBpZiAoZS50YXJnZXQudGV4dENvbnRlbnQgPT09ICdNQVJLIElNUE9SVEFOVCcpIHtcclxuICAgICAgICAgIGUudGFyZ2V0LnRleHRDb250ZW50ID0gJ05PVCBJTVBPUlRBTlQnO1xyXG4gICAgICAgICAgcGFyYS5wcmVwZW5kKHN0YXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlLnRhcmdldC50ZXh0Q29udGVudCA9ICdNQVJLIElNUE9SVEFOVCc7XHJcbiAgICAgICAgICBwYXJhLmZpcnN0Q2hpbGQucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCd1bmltcG9ydGFudCcpO1xyXG5cclxuICAgICAgICBwYXJhLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0LfQstC10LfQtNGLXHJcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICAgICAgICAgIFxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJJdGVtcyhlKSB7XHJcbiAgICBjb25zdCB0ZXh0ID0gZS50YXJnZXQudmFsdWUudG9Mb3dlckNhc2UoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRleHQpO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkZC10YXNrJykuZm9yRWFjaChmdW5jdGlvbih0YXNrKXtcclxuICAgICAgY29uc3QgaXRlbSA9IHRhc2suZmlyc3RDaGlsZC50ZXh0Q29udGVudDtcclxuICAgIC8vICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgIGlmKGl0ZW0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRleHQpICE9IC0xKXtcclxuICAgICAgICB0YXNrLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRhc2suc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRocm91Z2hUYXNrKGUpIHtcclxuICAgIGNvbnN0IHRhc2sgPSBlLnRhcmdldC5jbG9zZXN0KCcuYWRkLXRhc2snKTtcclxuXHJcbiAgICBpZiAodGFzaykge1xyXG4gICAgICBjb25zdCB0YXNrVGV4dCA9IHRhc2sucXVlcnlTZWxlY3RvcigncCcpO1xyXG4gICAgICBsZXQgaW1wb3J0YW50QnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLmltcG9ydGFudCcpO1xyXG4gICAgICBsZXQgcmVtb3ZlQnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLmRlbGV0ZScpO1xyXG5cclxuICAgICAgLy8gaWYgKHRhc2sgJiYgIWltcG9ydGFudEJ0biAmJiAhcmVtb3ZlQnRuKSBcclxuICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdQJykge1xyXG4gICAgICAgIGltcG9ydGFudEJ0biA9IHRhc2sucXVlcnlTZWxlY3RvcignLmltcG9ydGFudCcpO1xyXG4gICAgICAgIGltcG9ydGFudEJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgICAgdGFza1RleHQuY2xhc3NMaXN0LnRvZ2dsZSgnZG9uZScpO1xyXG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhY3Rpb24oZSkge1xyXG5cclxuICBsZXQgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uJyk7XHJcblxyXG4gIGlmICghYnRuKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicy13cmFwID4gdWwgPiBsaSA+IGJ1dHRvbicpO1xyXG5cdGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gIEFycmF5LmZyb20odGFicykuZm9yRWFjaChpdGVtID0+IHtcclxuICBcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY2hvb3NlJyk7XHJcbiAgfSlcclxuICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnY2hvb3NlJyk7XHJcbiAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICBsZXQgdmFsdWUgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXRhYnMnKTtcclxuICAvLyBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgXHJcbiAgQXJyYXkuZnJvbShsaSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIFxyXG4gIH0pIFxyXG4gICAgXHJcbiAgICBpZiAodmFsdWUgPT09ICdhY3RpdmUnKSB7XHJcbiAgICAgICAgQXJyYXkuZnJvbShsaSkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgIGlmIChpdGVtLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZG9uZScpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnZG9uZScpIHtcclxuICAgICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIEFycmF5LmZyb20obGkpLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICBpZiAoaXRlbS5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2RvbmUnKSkge1xyXG4gICAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgQXJyYXkuZnJvbShsaSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB9KVxyXG4gICAgfSBcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==